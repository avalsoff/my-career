<!-- partial:partials/_header.html -->
<!-- partial -->
<main class="test-page">
  <div class="container test-page__container">
    <ul class="breadcrumbs">
      <li class="breadcrumbs__item">
        <a href="#" class="breadcrumbs__link link">главная</a>
      </li>
      <li class="breadcrumbs__item">
        <a href="#" class="breadcrumbs__link link">профориентация</a>
      </li>
    </ul>

    <h1 class="heading heading--page">Профориентация для 11-13 лет</h1>

    <div class="test">
      <div class="test__description">
        <h2>Личностный опросник Айзенка (подростковый)</h2>
        <p>
          Темперамент человека не определяет однозначно успешность профессиональной деятельности.
        </p>
        <p>
          Тем не менее, установлено, что существует соответствие между особенностями личности человека и качеством его
          работы. Выполнив опросник Айзенка, Вы сможете определить насколько выражены у Вас базовые свойства
          темперамента и к какому типу темперамента вы относитесь (поскольку чистые типы встречаются крайне редко,
          скорее всего Вы узнаете, какой тип является преобладающим).
        </p>
        <p>
          По результатам тестирования Вы получите рекомендации, касающиеся того, какие виды профессиональной
          деятельности Вам подходят, а какие, наоборот, будут вызывать у Вас затруднения.
        </p>
        <button class="test__button test__button--start">Пройти тест</button>
      </div>
      <div class="test__questions">
        <p class="test__instruction">
          Вам предлагается оценить различные виды занятий, описанные в опроснике. Оценивайте по порядку каждое занятие, ничего не пропуская. Подумайте перед ответом на каждый вопрос и постарайтесь дать как можно более точный ответ.
        </p>
        <div class="test__main">
          <small class="test__top-index"></small>
          <div class="test__block">
            <p class="test__question">
              Предположим, что после соответствующего обучения вы сможете выполнить любую работу. Но если бы вам
              пришлось выбирать только из двух возможностей, что бы вы предпочли?
            </p>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="one" type="radio" name="answer1">
              <span>Ухаживать за животными</span>
            </label>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="two" type="radio" name="answer1">
              <span>Обслуживать машины, приборы (следить, регулировать)</span>
            </label>
          </div>
          <div class="test__block">
            <p class="test__question">
              Предположим, что после соответствующего обучения вы сможете выполнить любую работу. Но если бы вам
              пришлось выбирать только из двух возможностей, что бы вы предпочли?
            </p>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="one" type="radio" name="answer1">
              <span>Ухаживать за животными</span>
            </label>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="two" type="radio" name="answer1">
              <span>Обслуживать машины, приборы (следить, регулировать)</span>
            </label>
          </div>
          <div class="test__block">
            <p class="test__question">
              Предположим, что после соответствующего обучения вы сможете выполнить любую работу. Но если бы вам
              пришлось выбирать только из двух возможностей, что бы вы предпочли?
            </p>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="one" type="radio" name="answer1">
              <span>Ухаживать за животными</span>
            </label>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="two" type="radio" name="answer1">
              <span>Обслуживать машины, приборы (следить, регулировать)</span>
            </label>
          </div>
          <div class="test__block">
            <p class="test__question">
              Предположим, что после соответствующего обучения вы сможете выполнить любую работу. Но если бы вам
              пришлось выбирать только из двух возможностей, что бы вы предпочли?
            </p>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="one" type="radio" name="answer1">
              <span>Ухаживать за животными</span>
            </label>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="two" type="radio" name="answer1">
              <span>Обслуживать машины, приборы (следить, регулировать)</span>
            </label>
          </div>
          <div class="test__block">
            <p class="test__question">
              Предположим, что после соответствующего обучения вы сможете выполнить любую работу. Но если бы вам
              пришлось выбирать только из двух возможностей, что бы вы предпочли?
            </p>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="one" type="radio" name="answer1">
              <span>Ухаживать за животными</span>
            </label>
            <label class="test__answer">
              <input class="test__input" value="1" data-key="two" type="radio" name="answer1">
              <span>Обслуживать машины, приборы (следить, регулировать)</span>
            </label>
          </div>
          <div class="test__controls">
            <button class="test__button test__button--prev" type="button">Назад</button>
            <small class="test__bottom-index"></small>
            <button class="test__button test__button--next" type="button">Далее</button>
          </div>
        </div>
      </div>
      <div class="test__result">
        Спасибо!
        Ваш результат: {{res}}
      </div>
    </div>

  </div>
</main>

<footer class="footer">
  <div class="footer__main">
    <div class="container">
      <div class="footer">
        <div class="row">
          <div class="col-md-3">
            <div class="footer__caption-wrapper">
              <b class="footer__heading">Моя карьера</b>
              <p class="footer__caption">
                Портал по профориентации населения Сахалинской области
              </p>
            </div>
          </div>
          <div class="col-md-3">
            <ul class="footer__links">
              <li class="footer__item">
                <a href="#" class="footer__link">Экономика и рынок труда</a>
              </li>
              <li class="footer__item">
                <a href="#" class="footer__link">Барометр занятости</a>
              </li>
              <li class="footer__item">
                <a href="#" class="footer__link">Профориентация</a>
              </li>
              <li class="footer__item">
                <a href="#" class="footer__link">Профессии</a>
              </li>
            </ul>
          </div>
          <div class="col-md-3">
            <ul class="footer__links">
              <li class="footer__item">
                <a href="#" class="footer__link">Образование</a>
              </li>
              <li class="footer__item">
                <a href="#" class="footer__link">Работодатели</a>
              </li>
              <li class="footer__item">
                <a href="#" class="footer__link">Полезные материалы</a>
              </li>
              <li class="footer__item">
                <a href="#" class="footer__link">Новости</a>
              </li>
            </ul>
          </div>
          <div class="col-md-3">
            <ul class="footer__links">
              <li class="footer__item">
                <a href="#" class="footer__link">О проекте</a>
              </li>
              <li class="footer__item">
                <a href="#" class="footer__link">Контакты</a>
              </li>
              <li class="footer__item">
                <a href="#" class="footer__link">Карта сайта</a>
              </li>
              <li class="footer__item">
                <a href="#" class="footer__link">Сайт опросов</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="footer__info">
    <div class="container">
      <div class="justify-content-between">
        <p class="footer__text">
          Сайт разработан в веб агенстве <a href="#" class="link link--small">«На Волне»</a>
        </p>
        <p class="footer__text">
          © Агентство по труду и занятости населения Сахалинской области, 2018
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<!-- Main script -->
<script src="js/index.min.js"></script>
<script>
  const elem = {
    startBtn: $('.test__button--start'),
    description: $('.test__description'),
    questionsBlock: $('.test__questions'),
    questions: $('.test__block'),
    prevBtn: $('.test__button--prev'),
    nextBtn: $('.test__button--next'),
    result: $('.test__result'),
    topIndex: $('.test__top-index'),
    bottomIndex: $('.test__bottom-index'),
    answerBtns: $('.test__answer')
  }
  elem.currentQuestion = elem.questions.first();

  const fadeDelay = 150;
  const maxIndex = elem.questions.length;
  let currentIndex = 0;
  const testResult = {};
  const testHistory = [];


  elem.startBtn.click(() => {
    elem.description.fadeOut(fadeDelay);
    elem.startBtn.fadeOut(fadeDelay, () => {
      elem.questionsBlock.fadeIn(fadeDelay);
      elem.currentQuestion.fadeIn(fadeDelay);
    });
    elem.prevBtn.prop('disabled', true);
    elem.nextBtn.prop('disabled', true);
    if (currentIndex === maxIndex) {
      elem.nextBtn.prop('disabled', true);
    }
    updateIndexes();
  });

  elem.nextBtn.click(() => {
    const checked = elem.currentQuestion.find('.test__input:checked');
    if (!checked.length) {
      return;
    }

    const current = {
      value: Number(checked.val()),
      key: checked.data('key')
    }

    testResult[current.key] = testResult[current.key] ?
      testResult[current.key] + current.value :
      current.value;

    testHistory.push(current);

    if (elem.prevBtn.is(':disabled')) {
      elem.prevBtn.prop('disabled', false)
    }

    elem.currentQuestion.fadeOut(fadeDelay, function () {
      elem.currentQuestion = $(this).next();
      elem.currentQuestion.fadeIn(fadeDelay);
    });
    elem.nextBtn.prop('disabled', true);

    ++currentIndex;
    if (currentIndex === maxIndex) {

      elem.questionsBlock.fadeOut(fadeDelay, () => {
        elem.result.show().html(elem.result.text().replace(
          '{{res}}',
          JSON.stringify(testResult)
        ));
      });
    } else {
      updateIndexes();
    }
  });

  elem.prevBtn.click(() => {
    if (elem.nextBtn.is(':disabled')) {
      elem.nextBtn.prop('disabled', false);
    }

    const {
      key: lastKey,
      value: lastValue
    } = testHistory.pop();
    testResult[lastKey] -= lastValue;

    elem.currentQuestion.fadeOut(fadeDelay, function () {
      elem.currentQuestion = $(this).prev();
      elem.currentQuestion.fadeIn(fadeDelay);
    });
    elem.nextBtn.prop('disabled', true);
    if (--currentIndex === 0) {
      elem.prevBtn.prop('disabled', true)
    }
    updateIndexes();
  });

  elem.answerBtns.click(() => {
    elem.nextBtn.prop('disabled', false);
  });

  function updateIndexes() {
    elem.topIndex.html(`Вопрос ${currentIndex + 1} из ${maxIndex}`);
    elem.bottomIndex.html(`${currentIndex + 1} / ${maxIndex}`);
  }
</script>
</body>

</html>